Инициализация серверов на иммерсе
=================================

Выбор образа
------------

Выбирайте чистую ubuntu 22.04. Без дополнительных установок. Самую позднюю, которая будет в наличии.


Предварительная установка
-------------------------

Для того, чтобы скачать это репо::

> sudo apt install git git-lfs
> git clone git@github.com:guardora-ai/server_creation.git


Установка cuda и драйверов:
---------------------------

Выполнить следующее из ~::

> bash ./server_creation/server_creation.sh

После этого перегрузить сервер::

> sudo reboot


Установка рабочего пространства
-------------------------------

Для установки рабочего пространства для torch из ~ выполнить::

> bash ./server_creation/torch_workspace.sh

Для установки рабочего пространства для tensorflow из ~ выполнить::

> bash ./server_creation/tensorflow_workspace.sh


Работа с окружением
-------------------

Все пакеты установлены в окружении (venv) guardora. Для его активации выполнить::

> source ~/guardora/bin/activate

Для выхода из окружения выполнить::

> deactivate


Как запускать длительные задачи с помощью screen
------------------------------------------------

Создается отдельный именованный (в примере имя - my_super_long_task) сеанс screen::

> screen -S my_super_long_task

Система переходит как бы в отдельный сеанс, который будет продолжать работать даже, если вы выйдете с сервера.

Чтобы выйти из screen, находясь в нем, надо последовательно нажать Ctrl-A, Ctrl-D

Чтобы вновь подключиться к сеансу::

> screen -r -x my_super_long_task


Как запустить tensorboard, чтобы удаленно смотреть результаты
-------------------------------------------------------------

Запускаете сеанс screen и запускаете tensorboard следующим образом (порт здесь 7777, а можно любой незанятый, logdir - то, где ваши результаты)::

> tensorboard --bind_all --port 7777 --logdir /home/ubuntu/my/path/to/data serve

После этого с любого компьютера http://server-ip-address:7777/


